<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <title>Weather Map</title>
    <style type="text/css">
    body {
        background-image: url("/img/light_grey.png");
    }
    #weatherBox {
        width: 240px;
        height: 260px;
        padding: 15px;
        background-color: #686;
        color: #EEE;
        text-align: center;
        list-style-type: none;
        border: 1px black;
    }
    h2 {
        margin: 5px;

    }
    </style>
</head>
<body>
<div class="container">
    <h1>Weather Map</h1>
    <input type="text" id="yourLocation" placeholder="Enter your location" name="location" value="">
    <a id="submitLocation" class="btn btn-default">Submit</a>
    <div class="row">
        <div id="weatherBox"class="col-sm-2">

        <!--    Designing the weather box

            <h2>title</h2>
            <li><h3>hi/lo</h3></li>
            <li><img src="place.hold/er.url"></li>
            <li>Clouds: status</li>
            <li>Humidity: percentage</li>
            <li>Wind: speed</li>
            <li>Pressure: bars</li>

            <img src=""> -->

        </div>

    </div>
</div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript">

    function getWeather(location) {
        var place = location;
        var ajaxRequest = $.get("http://api.openweathermap.org/data/2.5/weather", {
            APPID: "1908faf007c44440777aa4146e959e53",
            q: place,
            units: "imperial"
        });

        ajaxRequest.always(function(){
            console.log('Sent');
        });

        ajaxRequest.fail(function(data, error) {
            console.log(error);
            console.log(ajaxRequest.status);
        });

        ajaxRequest.done(function(data) {
            console.log(data);
            var htmlString = "";

            var title = "<h2>" + 
                data.name + "</h2>";

            var tempMaxMin = "<li><h3>" + 
                data.main.temp_max + "°/" +
                data.main.temp_min + 
                "°</li></h3>";

            var icon = "<li><img src=\"http://openweathermap.org/img/w/"  + 
                data.weather[0].icon + 
                ".png\"></li>";

            var clouds = "<li>Forecast: " + data.weather[0].description + "</li>";

            var humidity = "<li>Humidity: " + data.main.humidity + "%</li>";

            var wind = "<li>Wind speed: " + data.wind.speed + " mph</li>";

            var pressure = "<li>Pressure: " + data.main.pressure + " hpa</li>";

            htmlString = title + tempMaxMin + icon + clouds + humidity + wind + pressure;

            $('#weatherBox').html(htmlString);
        });
    };

    $("#yourLocation").keyup(function(event){
    if(event.keyCode == 13){
        $("#submitLocation").click();
    }
});
    $('#submitLocation').click(function(location){
        var location = $('#yourLocation').val();

        getWeather(location);
        
    });



    </script>

</body>
</html>